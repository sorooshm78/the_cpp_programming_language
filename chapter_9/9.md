## 9.1 Introduction
ุณ++ ูุฌููุนูโุง ูุชุฏุงูู ู ุงูุนุทุงูโูพุฐุฑ ุงุฒ **ุฏุณุชูุฑุงุช** ุฑุง ุงุฑุงุฆู ูโุฏูุฏ. ุฏุฑ ูุงูุนุ ูุฑ ฺุฒ ฺฉู ุฌุงูุจ ุง ูพฺุฏู ุจุงุดุฏุ ุฏุฑ **ุนุจุงุฑุชโูุง (expressions)** ู **ุงุนูุงูโูุง (declarations)** ุงูุช ูโุดูุฏ. ุชูุฌู ุฏุงุดุชู ุจุงุดุฏ ฺฉู ฺฉ ุงุนูุงู ุฎูุฏุด ฺฉ ุฏุณุชูุฑ ุงุณุช ู ฺฉ ุนุจุงุฑุช ููุช ุจู ุฏุณุชูุฑ ุชุจุฏู ูโุดูุฏ ฺฉู ุฏุฑ ุงูุชูุงุด ฺฉ **ุณูฺฉุงูู (;)** ุงุถุงูู ฺฉูุฏ.

ุจุฑุฎูุงู ฺฉ ุนุจุงุฑุชุ ฺฉ ุฏุณุชูุฑ ููุฏุงุฑ ูุฏุงุฑุฏ. ุฏุฑ ุนูุถุ ุฏุณุชูุฑุงุช ุจุฑุง ูุดุฎุต ฺฉุฑุฏู **ุชุฑุชุจ ุงุฌุฑุง** ุจู ฺฉุงุฑ ูโุฑููุฏ. ุจุฑุง ูุซุงู:

```cpp
a = b + c;   // ุฏุณุชูุฑ ุนุจุงุฑุช (expression statement)
if (a == 7)  // ุฏุณุชูุฑ ุดุฑุท if
    b = 9;   // ููุท ุฏุฑ ุตูุฑุช ุงุฌุฑุง ูโุดูุฏ ฺฉู a == 9 ุจุงุดุฏ
```

ุจู ุตูุฑุช ููุทูุ ุฏุณุชูุฑ `a = b + c` ูุจู ุงุฒ `if` ุงุฌุฑุง ูโุดูุฏุ ููุงูโุทูุฑ ฺฉู ููู ุงูุชุธุงุฑ ุฏุงุฑูุฏ.
ุงูุจุชู ฺฉ ฺฉุงููพุงูุฑ ูโุชูุงูุฏ ุจุฑุง ุจูุจูุฏ ฺฉุงุฑุงุ ฺฉุฏ ุฑุง **ุจุงุฒฺู (reorder)** ฺฉูุฏุ ุจู ุดุฑุท ฺฉู ูุชุฌู ุฏููุงู ูุดุงุจู ุงุฌุฑุง ุชุฑุชุจ ุณุงุฏู ุจุงุดุฏ.


---------------

Expression โ ููุดู ู ููุฏุงุฑ ูโุฏู.

Statement โ ุชุฑุชุจ ุงุฌุฑุง ุฑู ูุดุฎุต ูโฺฉููุ ุฎูุฏุด ุงุฑุฒุด ูุฏุงุฑู.

---------------

## Statement Summary
ุญุชูุงู ๐น โ ุฏุฑ ุงุฏุงูู ุชุฑุฌููู ูุชู ุดูุง ุจู ูุงุฑุณ ุขูุฑุฏู ุดุฏู ุงุณุช:

---

### ฺฏุฒุฏูโุง ุงุฒ ุฏุณุชูุฑูุง C++

**statement (ุฏุณุชูุฑ):**

* declaration (ุงุนูุงู)
* expressionุงุฎุชุงุฑ ;
* { statement-listุงุฎุชุงุฑ }
* try { statement-listุงุฎุชุงุฑ } handler-list
* case constant-expression : statement
* default : statement
* break ;
* continue ;
* return expressionุงุฎุชุงุฑ ;
* goto identifier ;
* identifier : statement
* selection-statement (ุฏุณุชูุฑ ุงูุชุฎุงุจ)
* iteration-statement (ุฏุณุชูุฑ ุชฺฉุฑุงุฑ)

---

**selection-statement (ุฏุณุชูุฑ ุงูุชุฎุงุจ):**

* `if ( condition ) statement`
* `if ( condition ) statement else statement`
* `switch ( condition ) statement`

---

**iteration-statement (ุฏุณุชูุฑ ุชฺฉุฑุงุฑ):**

* `while ( condition ) statement`
* `do statement while ( expression ) ;`
* `for ( for-init-statement conditionุงุฎุชุงุฑ ; expressionุงุฎุชุงุฑ ) statement`
* `for ( for-init-declaration : expression ) statement`

---

**statement-list (ููุฑุณุช ุฏุณุชูุฑูุง):**

* `statement statement-list`
* ุงุฎุชุงุฑ

---

**condition (ุดุฑุท):**

* expression (ุนุจุงุฑุช)
* `type-specifier declarator = expression`
* `type-specifier declarator { expression }`

---

**handler-list (ููุฑุณุช ฺฉูุชุฑูโฺฉููุฏูโูุง):**

* `handler handler-list`
* ุงุฎุชุงุฑ

**handler (ฺฉูุชุฑูโฺฉููุฏู):**

* `catch ( exception-declaration ) { statement-listุงุฎุชุงุฑ }`

---

### ูฺฉุงุช ุชฺฉูู

* ฺฉ **ููุทูโูุฑฺฏูู** (semicolon) ุจู ุชููุง ฺฉ ุฏุณุชูุฑ ูุญุณูุจ ูโุดูุฏ ู ุจู ุขู **ุฏุณุชูุฑ ุฎุงู** ูโฺฏููุฏ.
* ุฏูุจุงููโุง (ุญุช ุฎุงู) ุงุฒ ุฏุณุชูุฑูุง ฺฉู ุฏุฑูู **ุขฺฉูุงุฏ**โูุง (ุนู `{` ู `}`) ูุฑุงุฑ ูโฺฏุฑุฏุ **block** ุง **compound statement** (ุฏุณุชูุฑ ูุฑฺฉุจ) ูุงู ุฏุงุฑุฏ.
* ูุงู ฺฉู ุฏุฑูู ฺฉ ุจููฺฉ ุชุนุฑู ูโุดูุฏุ ุฏุฑ ูพุงุงู ููุงู ุจููฺฉ ุงุฒ **ุฏุงููู (scope)** ุฎุงุฑุฌ ูโุดูุฏ (ยง6.3.4).
* ฺฉ ุงุนูุงู (declaration) ุฎูุฏุด ฺฉ ุฏุณุชูุฑ ุงุณุช ู ุฏุฑ C++ ฺุฒ ุจู ูุงู ยซุฏุณุชูุฑ ุงูุชุณุงุจ (assignment statement)ยป ุง ยซุฏุณุชูุฑ ูุฑุงุฎูุงู ุชุงุจุน (procedure-call statement)ยป ูุฌูุฏ ูุฏุงุฑุฏุ ุจูฺฉู **ุงูุชุณุงุจโูุง** ู **ูุฑุงุฎูุงู ุชูุงุจุน** ููฺฏ **ุนุจุงุฑุช (expression)** ูุณุชูุฏ.
* ููุฏุงุฑ ุงูููู `for-init-statement` ุจุงุฏ ุง ฺฉ **ุงุนูุงู** ุง ฺฉ **ุฏุณุชูุฑ-ุนุจุงุฑุช (expression-statement)** ุจุงุดุฏ. ุชูุฌู ฺฉูุฏ ฺฉู ูุฑ ุฏู ุจุง ููุทูโูุฑฺฏูู ูพุงุงู ูโุงุจูุฏ.
* ฺฉ `for-init-declaration` ุจุงุฏ ุงุนูุงู ฺฉ ูุชุบุฑ ูููุฑุฏ **ุจุฏูู ููุฏุงุฑ ุงููู** ุจุงุดุฏ.
* ุฏุณุชูุฑูุง ฺฉู ุจุฑุง ูุฏุฑุช **ุงุณุชุซูุงูุง** ุจู ฺฉุงุฑ ูโุฑููุฏ (try-blocks)ุ ุฏุฑ ุจุฎุด ยง13.5 ุชูุถุญ ุฏุงุฏู ุดุฏูโุงูุฏ.

## 9.3 Declarations as Statements
ุงุนูุงู ฺฉ ุนุจุงุฑุช ุงุณุช. ูฺฏุฑ ุงูฺฉู ูุชุบุฑ ุจู ุตูุฑุช ุงุณุชุงุชฺฉ ุงุนูุงู ุดูุฏุ ููุฏุงุฑุฏู ุงูููู ุขู ูุฑ ุจุงุฑ ฺฉู ุฌุฑุงู ฺฉูุชุฑู ุจู ุงุนูุงู ูโุฑุณุฏุ ุงุฌุฑุง ูโุดูุฏ (ูฺฏุงู ฺฉูุฏ ุจู ยง6.4.2). ุฏูู ุงุฌุงุฒู ุฏุงุฏู ุจู ุงุนูุงูโูุง ุฏุฑ ูุฑ ูฺฉุงู ฺฉู ฺฉ ุจุงูู ูโุชูุงูุฏ ุงุณุชูุงุฏู ุดูุฏ (ู ฺูุฏ ูฺฉุงู ุฏฺฏุฑุ ยง9.4.3ุ ยง9.5.2) ุงู ุงุณุช ฺฉู ุจู ุจุฑูุงููโููุณ ุงูฺฉุงู ุฏูุฏ ุงุฒ ุจุฑูุฒ ุฎุทุงูุง ูุงุด ุงุฒ ููุฏุงุฑุฏู ุงููู ูุดุฏูู ูุชุบุฑูุง ุฌููฺฏุฑ ฺฉูุฏ ู locality ฺฉุฏ ุฑุง ุจูุจูุฏ ุจุฎุดุฏ. ุจู ูุฏุฑุช ุฏูู ูุฌูุฏ ุฏุงุฑุฏ ฺฉู ูุชุบุฑ ุฑุง ูุจู ุงุฒ ุฏุงุดุชู ููุฏุงุฑ ุจุฑุง ูฺฏู ุฏุงุดุชู ุขู ูุนุฑู ฺฉูู. ุจู ุนููุงู ูุซุงู:

```
void f(vector<string>& v, int i, const char* p)
{
  if (p==nullptr) return;
  if (i<0 || v.size()<=i)
    error("bad index");
  string s = v[i];
  if (s == p) {
    // ...
  }
  // ...
}
```

ุชูุงูุง ูุฑุงุฑ ุฏุงุฏู ุงุนูุงูโูุง ูพุณ ุงุฒ ฺฉุฏ ุงุฌุฑุง ุจุฑุง ุจุณุงุฑ ุงุฒ ููุงุฏุฑ ุซุงุจุช ู ุณุจฺฉโูุง ุจุฑูุงููโููุณ ุจุง ุชฺฉโุจุงุฑ ููุฏุงุฑุฏู ุฌูุน (single-assignment) ฺฉู ุฏุฑ ุขู ููุฏุงุฑ ฺฉ ุดุก ูพุณ ุงุฒ ููุฏุงุฑุฏู ุงููู ุชุบุฑ ุฏุงุฏู ููโุดูุฏุ ุถุฑูุฑ ุงุณุช. ุจุฑุง ุงููุงุน ฺฉุงุฑุจุฑโูุง ฺฉุงุฑุจุฑ-ุชุนุฑูุ ุชุฎุตุต ูุชุบุฑ ุชุง ุฒูุงู ฺฉู ููุฏุงุฑ ููุงุณุจ ุจุฑุง ููุฏุงุฑุฏู ุฏุฑ ุฏุณุชุฑุณ ุจุงุดุฏ ูโุชูุงูุฏ ููุฌุฑ ุจู ฺฉุงุฑุง ุจูุชุฑ ุดูุฏ. ุจู ุนููุงู ูุซุงู:

```
void use()
{
  string s1;
  s1 = "The best is the enemy of the good.";
  // ...
}
```

ุงู ุฏุฑุฎูุงุณุช ููุฏุงุฑุฏู ุงููู ูพุดโูุฑุถ ุฑุง ุงูุฌุงู ูโุฏูุฏ (ุจู ุฑุดุชูู ุฎุงู) ฺฉู ุจุง ุฏูุจุงูู ุขู ฺฉ ููุฏุงุฑุฏู ุงูุฌุงู ูโุดูุฏ. ุงู ููฺฉู ุงุณุช ูุณุจุช ุจู ููุฏุงุฑุฏู ุณุงุฏู ุจู ููุฏุงุฑ ุฏูุฎูุงู ูุงุจุณุชู ุณุฑุนโุชุฑ ูุจุงุดุฏ:

```
string s2 {"Voltaire"};
```

ุฏูู ุฑุงุฌโุชุฑู ุจุฑุง ุงุนูุงู ฺฉ ูุชุบุฑ ุจุฏูู ููุฏุงุฑ ุงููู ุงู ุงุณุช ฺฉู ุจู ฺฉ ุฌููู ูุงุฒ ุฏุงุฑุฏ ุชุง ููุฏุงุฑ ููุฑุฏ ูุธุฑ ุฎูุฏ ุฑุง ุจุฏุณุช ุขูุฑุฏ. ูุชุบุฑูุง ูุฑูุฏ ุงุฒ ุฌููู ูุซุงูโูุง ูุณุจุชุงู ูุนููู ฺฉูโุชุฑ ูุณุชูุฏ ฺฉู ุงู ฺฉุงุฑ ุฑุง ูโฺฉููุฏ:

```
void input()
{
  int buf[max];
  int count = 0;
  for (int i; cin>>i;) {
    if (i<0) error("unexpected negative value");
    if (count==max) error("buffer overflow");
    buf[count++] = i;
  }
  // ...
}
```

ูุฑุถ ูโฺฉูู ฺฉู error() ุจุงุฒูโฺฏุฑุฏุฏุ ุงฺฏุฑ ุจุงุฒฺฏุฑุฏุฏุ ุงู ฺฉุฏ ููฺฉู ุงุณุช ุจุงุนุซ ุณุฑุฑุฒ ุจุงูุฑ ุดูุฏ. ุงุบูุจุ push_back() (ยง3.2.1.3ุ ยง13.6ุ ยง31.3.6) ุฑุงูโุญู ุจูุชุฑ ุจุฑุง ฺูู ูุซุงู ุงุฑุงุฆู ูโุฏูุฏ.

## 9.4 Selection Statements
ฺฉ ููุฏุงุฑ ูโุชูุงูุฏ ุชูุณุท either ฺฉ ุนุจุงุฑุช ุดุฑุท ุง ฺฉ ุจุงูู ุณูุฆฺ ุขุฒูุงุด ุดูุฏ:
- if ( ุดุฑุท ) ุจุงูู
- if ( ุดุฑุท ) ุจุงูู else ุจุงูู
- switch ( ุดุฑุท ) ุจุงูู
ฺฉ ุดุฑุท ุง ฺฉ ุนุจุงุฑุช ุงุณุช ุง ฺฉ ุงุนูุงู (ยง9.4.3).

## 9.4.1 if Statements
ุฏุฑ ฺฉ ุจุงููึพุดุฑุท (if-statement)ุ ุงููู ุจุงูู (ุง ุชููุง ุจุงูู) ุฒูุงู ุงุฌุฑุง ูโุดูุฏ ฺฉู ุดุฑุท ุฏุฑุณุช ุจุงุดุฏ ู ุจุงูู ุฏูู (ุงฺฏุฑ ูุดุฎุต ุดูุฏ) ุฏุฑ ุบุฑ ุงู ุตูุฑุช ุงุฌุฑุง ูโุดูุฏ. ุงฺฏุฑ ุดุฑุท ูุชุฌูโุง ุบุฑ ุงุฒ ููุฏุงุฑ ุจูู ุจุฏูุฏุ ุงฺฏุฑ ููฺฉู ุจุงุดุฏ ุจู ุทูุฑ ุถูู ุจู bool ุชุจุฏู ูโุดูุฏ. ุงู ุจุฏู ูุนูุงุณุช ฺฉู ูุฑ ุนุจุงุฑุช ุญุณุงุจ ุง ุงุดุงุฑูโฺฏุฑ ูโุชูุงูุฏ ุจู ุนููุงู ุดุฑุท ุงุณุชูุงุฏู ุดูุฏ. ุจุฑุง ูุซุงูุ ุงฺฏุฑ x ฺฉ ุนุฏุฏ ุตุญุญ ุจุงุดุฏุ ุขูฺฏุงู

```
if (x) // ...
```

ุนู

```
if (x != 0) // ...
```

ุจุฑุง ฺฉ ุงุดุงุฑูโฺฏุฑ pุ

```
if (p) // ...
```

ฺฉ ุนุจุงุฑุช ุขุฒูุงุด ูุณุชูู ุงุณุช ฺฉู ูโฺฏูุฏ ยซุขุง p ุงุดุงุฑู ุจู ฺฉ ุดุก ูุนุชุจุฑ ุฏุงุฑุฏุยป (ุจุง ูุฑุถ ููุฏุงุฑุฏู ููุงุณุจ)ุ ู ูุนุงุฏู ุงุณุช ุจุง

```
if (p != nullptr) // ...
```

ุชูุฌู ฺฉูุฏ ฺฉู ฺฉ ููุฏุงุฑู ููุดุฎูุตู ุณุงุฏู (plain) enum ูโุชูุงูุฏ ุจู ุทูุฑ ุถูู ุจู ฺฉ ุนุฏุฏ ุตุญุญ ุชุจุฏู ุดูุฏ ู ุณูพุณ ุจู boolุ ุฏุฑ ุญุงู ฺฉู ฺฉ enum class ููโุชูุงูุฏ (ยง8.4.1). ุจุฑุง ูุซุงู:

```
enum E1 { a, b };
enum class E2 { a, b };

void f(E1 x, E2 y)
{
  if (x) // OK
    // ...
  if (y) // ุฎุทุง: ุชุจุฏู ุจู bool ูุฌุงุฒ ูุณุช
    // ...
  if (y == E2::a) // OK
    // ...
}
```

ุนุจุงุฑุชโูุง ููุทู
&& || !
ุจุดุชุฑู ุงุณุชูุงุฏู ุฑุง ุฏุฑ ุดุฑุงุท ุฏุงุฑูุฏ. ุนููฺฏุฑูุง && ู || ุฏููู ุขุฑฺฏููุงู ุฎูุฏ ุฑุง ุชููุง ุฏุฑ ุตูุฑุช ูุงุฒู ุจูุฏู ุงุฑุฒุงุจ ูโฺฉููุฏ. ุจุฑุง ูุซุงู:

```
if (p && 1 < p->count) // ...
```

ุงู ุดุฑุท ููุท ุฒูุงู ููุฏุงุฑ 1 < p->count ุฑุง ุจุฑุฑุณ ูโฺฉูุฏ ฺฉู p ููุฏุงุฑ nullptr ูุจุงุดุฏ.

ุจุฑุง ุงูุชุฎุงุจ ุจู ุฏู ฺฏุฒูู ฺฉู ูุฑ ฺฉุฏุงู ููุฏุงุฑ ุชููุฏ ูโฺฉูุฏุ ุนุจุงุฑุช ุดุฑุท (conditional expression) (ยง11.1.3) ุตุฑุญโุชุฑ ุงุฒ ฺฉ if-statement ุงุณุช. ุจุฑุง ูุซุงู:

```
int max(int a, int b)
{
  return (a > b) ? a : b; // ุจุงุฒฺฏุฑุฏุงูุฏู ุจุฒุฑฺฏโุชุฑู ููุฏุงุฑ ุจู a ู b
}
```

ฺฉ ูุงู ุชููุง ูโุชูุงูุฏ ุฏุฑ ุฏุงูููโุง ฺฉู ุฏุฑ ุขู ุงุนูุงู ุดุฏู ุงุณุชูุงุฏู ุดูุฏ. ุจู ูฺูุ ุฏุฑ branch ุฏฺฏุฑ ุงุฒ if-statement ููโุชูุงู ุงุฒ ุขู ุงุณุชูุงุฏู ฺฉุฑุฏ. ุจุฑุง ูุซุงู:

```
void f2(int i)
{
  if (i) {
    int x = i + 2;
    ++x;
    // ...
  }
  else {
    ++x; // ุฎุทุง: x ุฏุฑ ุฏุงููู ูุณุช
  }
  ++x; // ุฎุทุง: x ุฏุฑ ุฏุงููู ูุณุช
}
```

ฺฉ ุดุงุฎู ุงุฒ if-statement ููโุชูุงูุฏ ููุท ฺฉ ุงุนูุงู ุจุงุดุฏ. ุงฺฏุฑ ุจุฎูุงูู ูุงู ุฑุง ุฏุฑ ฺฉ ุดุงุฎู ูุนุฑู ฺฉููุ ุจุงุฏ ุขู ุฑุง ุฏุฑ ฺฉ ุจูุงฺฉ (ยง9.2) ูุญุตูุฑ ฺฉูู. ุจุฑุง ูุซุงู:

```
void f1(int i)
{
  if (i)
    int x = i + 2; // ุฎุทุง: ุงุนูุงู ุฏุฑ ุดุงุฎู if-statement
}
```


-----
-----
-----
-----

### ฑ. ุงุนูุงู (declaration) ูุซู ฺฉ ุฏุณุชูุฑ ุงุณุช

ุฏุฑ C++ุ ููุช ุฏุงุฎู ฺฉ ุจูุงฺฉ (ูุซูุงู ุฏุฑูู ุชุงุจุน ุง ุฏุงุฎู if) ฺฉ ูุชุบุฑ ุชุนุฑู ูโฺฉูุ ุงูู ุชุนุฑู ุฎูุฏุด ฺฉ **statement** (ุฏุณุชูุฑ) ุญุณุงุจ ูุดู.
ูุซูุงู:

```cpp
int x = 5;
```

ุงู ฺฉ ุฏุณุชูุฑ ฺฉุงูู ูุญุณูุจ ูุดูุ ุฏุฑุณุช ูุซู `if`, `for`, ุง `return`.

---

### ฒ. ุงุฌุฑุง initializer

ุงฺฏุฑ ูุชุบุฑ **static** ูุจุงุดูุ ููุฏุงุฑุฏู ุงููู (initializer) ูุฑ ุจุงุฑ ฺฉู ฺฉูุชุฑู ุจุฑูุงูู ุจู ุงูู ุฎุท ูโุฑุณู ุงุฌุฑุง ูุดู.
ูุซุงู:

```cpp
void f() {
    int x = rand();   // ูุฑ ุจุงุฑ ฺฉู f ุงุฌุฑุง ุจุดูุ x ุฏูุจุงุฑู ููุฏุงุฑุฏู ูุดู
}
```

ุงูุง ุงฺฏุฑ `static` ุจุงุดู:

```cpp
void f() {
    static int x = rand(); // ููุท ุจุงุฑ ุงูู ููุฏุงุฑุฏู ูุดู
}
```

---

### ณ. ฺุฑุง ุงุฌุงุฒู ูุฏู ูุฑุฌุง ุจุดู ูุชุบุฑ ุชุนุฑู ฺฉุฑุฏุ

ุฏุฑ ุฒุจุงูโูุง ูุฏูโุชุฑ ูุซู C (ูุณุฎูโูุง ูุฏู)ุ ุจุงุฏ ููู ูุชุบุฑูุง ุฑู ุงุจุชุฏุง ุจูุงฺฉ ุชุนุฑู ูโฺฉุฑุฏ.
C++ ุงุฌุงุฒู ูุฏู ูุฑุฌุง ฺฉู ูุงุฒ ุฏุงุดุช ุชุนุฑู ฺฉู. ุฏููุด:

* ุฌููฺฏุฑ ุงุฒ ุงุณุชูุงุฏูโ ุชุตุงุฏู ูุชุบุฑ **ุจุฏูู ููุฏุงุฑ ุงููู**
* ุฎูุงูุง ู ูุญู ุจูุฏู ูุชุบุฑ (locality): ูุชุบุฑ ูุฒุฏฺฉ ุจู ุฌุง ฺฉู ุงุณุชูุงุฏู ูุดู ุชุนุฑู ุจุดู.

---

### ด. ูุซุงู ูุชู

ฺฉุฏ ฺฉู ุขูุฑุฏ:

```cpp
void f(vector<string>& v, int i, const char* p)
{
    if (p==nullptr) return;                // ุงฺฏุฑ p ุชู ุจุงุดูุ ุฒูุฏ ุจุฑฺฏุฑุฏ
    if (i<0 || v.size()<=i)                // ุจุฑุฑุณ ุงูฺฉู i ูุนุชุจุฑู ุง ูู
        error("bad index");

    string s = v[i];                       // ุงูุฌุง ุชุงุฒู s ุชุนุฑู ูุดู
    if (s == p) {
        // ...
    }
    // ...
}
```

๐ ูฺฉุชู ุงูุฌุงุณุช:
ูุชุบุฑ `s` ุฏููุง ูููู ุฌุง ุชุนุฑู ุดุฏู ฺฉู ุจู ููุฏุงุฑุด ูุงุฒ ุฏุงุฑู (`v[i]`).

* ุงฺฏุฑ ุจุงูุงุชุฑ (ูุจู ุงุฒ ifูุง) ุชุนุฑูุด ูโฺฉุฑุฏูุ ููฺฉู ุจูุฏ ุจุฑูุงูู ูุจู ุงุฒ ุฑุณุฏู ุจู ููุฏุงุฑ ูุนุชุจุฑ ุจุฑฺฏุฑุฏู ุง ุฎุทุง ุจุฏูุ ูู `s` ุจโุฏูู ุณุงุฎุชู ุจุดู.
* ุงู ุจุงุนุซ ูุดู ูู ฺฉุงุฑุง ุจูุชุฑ ุจุดู (ฺูู ุณุงุฒูุฏู ู ูุฎุฑุจ ุจโููุฑุฏ ุตุฏุง ุฒุฏู ููุดู)ุ ูู ุงุญุชูุงู ุฎุทุง "ุงุณุชูุงุฏู ุงุฒ ูุชุบุฑ ุจุฏูู ููุฏุงุฑ ุฏุฑุณุช" ฺฉูุชุฑ ุจุดู.

---

### ุฌูุนโุจูุฏ ุณุงุฏู:

* ุชุนุฑู ูุชุบุฑ ุฏุฑ C++ ฺฉ ุฏุณุชูุฑ ฺฉุงูู ุญุณุงุจ ูุดู.
* ุงฺฏุฑ ูุชุบุฑ static ูุจุงุดูุ ููุฏุงุฑุฏู ุงููู ูุฑ ุจุงุฑ ฺฉู ุจู ุงูู ุฎุท ูโุฑุณู ุงุฌุฑุง ูุดู.
* C++ ุงุฌุงุฒู ูุฏู ูุฑุฌุง ูุงุฒู ุฏุงุดุช ูุชุบุฑ ุชุนุฑู ฺฉู โ ฺฉุฏุช ุงููโุชุฑ ู ุฎูุงูุงุชุฑ ูุดู.
* ูุซุงู ฺฉุฏ ูุดูู ูุฏู ฺุทูุฑ ูุชุบุฑ ุฑู ุฏููุง ุฏุฑ ููุทูโุง ุชุนุฑู ฺฉูู ฺฉู ุงุฑุฒุด ู ูุนูุง ูุงูุน ูพุฏุง ูโฺฉูู.

---























## ฑ. ฺุฑุง ุงุฌุงุฒู ุฏุงุฑู ุจุนุฏ ุงุฒ ฺฉุฏ ุงุฌุฑุง ูุชุบุฑ ุชุนุฑู ฺฉููุ

ุงู ูฺฺฏ ุจุงุนุซ ูุดู:

* **ุซุงุจุชโูุง (constants)** ุฏุฑุณุช ููููโุฌุง ฺฉู ุจูุดูู ูุงุฒ ุฏุงุฑู ุชุนุฑู ุจุดู.
* **ุณุจฺฉ ุชฺฉโุงุฎุชุตุงุต (single-assignment style)** ุฑุนุงุช ุจุดู: ุนู ูุชุบุฑ ููุช ุณุงุฎุชู ูุดู ฺฉู ุงุฒ ูููู ูุญุธู ุชุง ุขุฎุฑ ุนูุฑุด ู ููุฏุงุฑ ุซุงุจุช ุฏุงุฑู (ูู ุงูฺฉู ุจุณุงุฒูุด ู ุจุนุฏ ฺูุฏ ุจุงุฑ ุชุบุฑุด ุจุฏู).
* ุจุฑุง **ฺฉูุงุณโูุง ู ููุนโูุง ฺฉุงุฑุจุฑ (user-defined types)** ุฎู ููููุ ฺูู ุจุนุถโูุง ุณุงุฎุชู ู ููุฏุงุฑุฏู ุงูููโุดูู ฺฏุฑููู. ุงฺฏุฑ ุฒูุฏุชุฑ ุจุณุงุฒู ู ุจุนุฏ ุฏูุจุงุฑู ููุฏุงุฑ ุจุฏูุ ุงุถุงููโฺฉุงุฑ ูุดู.

---

## ฒ. ุชูุงูุช ุจู "ุชุนุฑู ุจุฏูู ููุฏุงุฑุฏู" ู "ุชุนุฑู ุจุง ููุฏุงุฑุฏู"

### ุญุงูุช ุงูู: ุชุนุฑู ุจุฏูู initializer + ุงูุชุณุงุจ ุจุนุฏ

```cpp
void use()
{
    string s1;                     // ุณุงุฎุชู ูุดู ุจู ุนููุงู ุฑุดุชู ุฎุงู ""
    s1 = "The best is the enemy of the good."; // ุจุนุฏ ุฏูุจุงุฑู ููุฏุงุฑุฏู ูุดู
}
```

ุงู ุนู:

1. ุงูู ุณุงุฒูุฏูโ ูพุดโูุฑุถ (`string()`) ุตุฏุง ุฒุฏู ูุดู โ ุฑุดุชู ุฎุงู ุณุงุฎุชู ูุดู.
2. ุจุนุฏ ุนููฺฏุฑ ุงูุชุณุงุจ (`operator=`) ุตุฏุง ุฒุฏู ูุดู โ ูุญุชูุง ุฌุฏุฏ ุฌุงฺฏุฒู ูุดู.

ุงู ุนู **ุฏู ุจุงุฑ ฺฉุงุฑ ุงุถุงูู** (ุงูู ุณุงุฎุชุ ุจุนุฏ ุชุบุฑ).

---

### ุญุงูุช ุฏูู: ุชุนุฑู ููุฑุงู initializer

```cpp
string s2 {"Voltaire"};
```

ุงูุฌุง ูุณุชููุงู ุฑุดุชู ุจุง ููุฏุงุฑ `"Voltaire"` ุณุงุฎุชู ูุดู.

* ููุท **ฺฉ ุจุงุฑ ุณุงุฒูุฏู** ุตุฏุง ุฒุฏู ูุดู.
* ุณุฑุนโุชุฑ ู ุจูููโุชุฑ ุงุฒ ุญุงูุช ูุจู.

---

## ณ. ฺู ูููุน ุจุฏูู initializer ุชุนุฑู ูโฺฉููุ

ูุนูููุงู ุจุงุฏ ููุดู ูุชุบุฑ ุฑู ูููู ูููุน ููุฏุงุฑ ุจุฏู.
ุงูุง ุจุนุถ ููุชุง ูุงุฒูู **ุจุนุฏุงู ุฏุฑ ุทูู ุงุฌุฑุง ุญููู ุง ุฏุฑุงูุช ูุฑูุฏ ููุฏุงุฑ ุจฺฏุฑู**.

ูุซุงู ูุชู:

```cpp
void input()
{
    int buf[max];      // ู ุจุงูุฑ ุณุงุฏู
    int count = 0;     // ุชุนุฏุงุฏ ูุฑูุฏโูุง ฺฉู ฺฏุฑูุชู
    for (int i; cin >> i;) {       // i ุงูุฌุง ููุฏุงุฑุด ุจุง ูุฑูุฏ ูพุฑ ูุดู
        if (i < 0) error("unexpected negative value");
        if (count == max) error("buffer overflow");
        buf[count++] = i;          // ููุฏุงุฑ i ุฑู ูโุฑุฒู ุชู ุจุงูุฑ
    }
}
```

ุงูุฌุง:

* ูุชุบุฑ `i` ุงูู ุณุงุฎุชู ูุดู ูู ููุฏุงุฑุฏู ุงููู ููโฺฏุฑู.
* ููุฏุงุฑุด ูุฑ ุจุงุฑ ุฏุฑ ุญููู ุจุง ูุฑูุฏ `cin >> i` ุชุนู ูุดู.
* ุงู ู ูุซุงู ุฏุฑุณุช ุงุฒ ูุชุบุฑู ฺฉู ุจุงุฏ **ุจุนุฏุงู ููุฏุงุฑ ุจฺฏุฑู** ฺูู ููุฏุงุฑ ุงููู ุงุฒ ฺฉุงุฑุจุฑ ูุงุฏ.

---

## ด. ูฺฉุชูโ ููู: ูุฏุฑุช ุฎุทุง

* ุชู ฺฉุฏ ุจุงูุงุ ุงฺฏุฑ `error()` ุจุฑฺฏุฑุฏู (ุนู ุจุฑูุงูู ุฑู ูุชููู ูฺฉูู)ุ ููฺฉูู ฺฉุฏ ููฺูุงู ุงุฏุงูู ูพุฏุง ฺฉูู ู ุจุงุนุซ **ุจุงูุฑ ุงูุฑููู (buffer overflow)** ุจุดู.
* ููุณูุฏู ูุฑุถ ฺฉุฑุฏู `error()` ุงุตูุงู ุจุฑููโฺฏุฑุฏู (ูุซูุงู `throw` ูฺฉูู ุง `exit` ูฺฉูู).

---

## ต. ุฑุงู ุจูุชุฑ โ ุงุณุชูุงุฏู ุงุฒ `push_back`

ุจู ุฌุง ูุฏุฑุช ุฏุณุช ุขุฑุงู ู ุดูุงุฑูุฏู:

```cpp
vector<int> buf;
for (int i; cin >> i;) {
    if (i < 0) error("unexpected negative value");
    buf.push_back(i);   // ุฎูุฏ vector ุฑุดุฏ ูฺฉูู ู ุฌุง ุงุถุงูู ูฺฉูู
}
```

* ุงูุทูุฑ ุฏฺฏู ูุงุฒู ูุณุช ูฺฏุฑุงู ุธุฑูุช ุซุงุจุช `max` ุจุงุดู.
* ุงุญุชูุงู ุฎุทุง ุจุงูุฑ ุงูุฑููู ุงุฒ ุจู ูุฑู.

---

โ **ุฎูุงุตู ุณุงุฏู:**

* ุจูุชุฑู ูุชุบุฑูุง ุฑู ูููู ุฌุง ุชุนุฑู ฺฉูู ฺฉู ููุฏุงุฑ ุฏุฑุณุช ุจุฑุงุดูู ุฏุงุฑู.
* ุชุนุฑู ูุชุบุฑ ุจุฏูู initializer ุจุงุนุซ ุฏู ุจุงุฑ ฺฉุงุฑ (ุณุงุฎุช + ุงูุชุณุงุจ) ูุดู.
* ุชููุง ููุงุฑุฏ ูุนููู ุจุฑุง ุชุนุฑู ุจุฏูู initializerุ ููุช ูุณุชู ฺฉู ููุฏุงุฑ ุงููู ุงุฒ ฺฉุงุฑุจุฑ ุง ุงุฒ ุฌุฑุงู ุงุฌุฑุง ุจุนุฏุงู ุจู ุฏุณุช ูุงุฏ.
* ุจู ุฌุง ุขุฑุงูโ ุฏุณุช + ุดูุงุฑูุฏูุ ูุนูููุงู `vector` + `push_back` ุงูุชุฎุงุจ ุงููโุชุฑ ู ูุฏุฑูโุชุฑู.


-----
-----
-----
-----

## switch Statements
ฺฉ ุฏุณุชูุฑ **switch** ุจู ูุฌููุนูโุง ุงุฒ ฺฏุฒููโูุง (case-labels) ุงูุชุฎุงุจ ูโฺฉูุฏ. ุนุจุงุฑุช ุฏุฑ **case-label**ูุง ุจุงุฏ ฺฉ ุนุจุงุฑุช ุซุงุจุช ุงุฒ ููุน ุตุญุญ (integral) ุง ุดูุงุฑุด (enumeration) ุจุงุดุฏ. ฺฉ ููุฏุงุฑ ููโุชูุงูุฏ ุจุด ุงุฒ ฺฉ ุจุงุฑ ุฏุฑ **case-label**ูุง ุงุณุชูุงุฏู ุดูุฏ. ุจู ุนููุงู ูุซุงู:

```cpp
void f(int i)
{
    switch (i) {
        case 2.7: // ุฎุทุง: ุงุณุชูุงุฏู ุงุฒ ุนุฏุฏ ุงุนุดุงุฑ ุฏุฑ case
        // ...
        case 2:
        // ...
        case 4-2: // ุฎุทุง: ุนุฏุฏ 2 ุฏู ุจุงุฑ ุงุณุชูุงุฏู ุดุฏู ุงุณุช
        // ...
    };
}
```

ฺฉ ุฏุณุชูุฑ **switch** ูโุชูุงูุฏ ุจู ุตูุฑุช ูุฌููุนูโุง ุงุฒ ุฏุณุชูุฑุงุช **if** ููุดุชู ุดูุฏ. ุจู ุนููุงู ูุซุงู:

```cpp
switch (val) {
    case 1:
        f();
        break;
    case 2:
        g();
        break;
    default:
        h();
        break;
}
```

ูโุชูุงู ุงู ุฑุง ุจู ุดฺฉู ุฒุฑ ููุดุช:

```cpp
if (val == 1)
    f();
else if (val == 2)
    g();
else
    h();
```

ูุนู ูุฑ ุฏู ูุณุฎู ฺฉุณุงู ุงุณุชุ ุงูุง ูุณุฎู ุงูู (**switch**) ุชุฑุฌุญ ุฏุงุฏู ูโุดูุฏ ุฒุฑุง ูุงูุช ุนููุงุช (ุขุฒูุงุด ฺฉ ููุฏุงุฑ ูุงุญุฏ ุฏุฑ ุจุฑุงุจุฑ ูุฌููุนูโุง ุงุฒ ุซุงุจุชโูุง) ูุงุถุญ ุงุณุช. ุงู ุจุงุนุซ ูโุดูุฏ ฺฉู **switch** ุจุฑุง ูุซุงูโูุง ุบุฑุชุฑivial ุฑุงุญุชโุชุฑ ุฎูุงูุฏู ุดูุฏ. ูุนูููุงู ููฺูู ุจุงุนุซ ุชููุฏ ฺฉุฏ ุจูููโุชุฑ ูโุดูุฏุ ุฒุฑุง ูุงุฒ ุจู ุจุฑุฑุณ ูฺฉุฑุฑ ููุงุฏุฑ ูุฑุฏ ูุณุช ู ูโุชูุงู ุงุฒ ุฌุฏูู ูพุฑุด (jump table) ุงุณุชูุงุฏู ฺฉุฑุฏ.

---

**ุชูุฌู:** ูุฑ **case** ุฏุฑ **switch** ุจุงุฏ ุจู ูุญู ุฎุงุชูู ุงุจุฏุ ูฺฏุฑ ุงูฺฉู ุจุฎูุงูุฏ ุงุฌุฑุง **case** ุจุนุฏ ุงุฏุงูู ุงุจุฏ. ุจู ุนููุงู ูุซุงู:

```cpp
switch (val) { // ูุฑุงูุจ ุจุงุดุฏ
    case 1:
        cout << "case 1\n";
    case 2:
        cout << "case 2\n";
    default:
        cout << "default: case not found\n";
}
```

ุงฺฏุฑ `val==1` ุจุงุดุฏุ ุฎุฑูุฌ ููฺฉู ุงุณุช ุชุงุฒูโฺฉุงุฑุงู ุฑุง ุดฺฏูุชโุฒุฏู ฺฉูุฏ:

```
case 1
case 2
default: case not found
```

ุงุฏู ุฎูุจ ุงุณุช ฺฉู ููุงุฑุฏ ฺฉู ุณููุท (fall-through) **ุนูุฏ** ุงุณุช ุฑุง ฺฉุงููุช ุจฺฏุฐุงุฑุฏ ุชุง ุณููุท ุจุฏูู ฺฉุงููุช ุจู ุนููุงู ุฎุทุง ูุฑุถ ุดูุฏ. ุจู ุนููุงู ูุซุงู:

```cpp
switch (action) { // ูุฏุฑุช ุฌูุช (action, value)
    case do_and_print:
        act(value);
        // ุจุฏูู break: ุงุฏุงูู ุจู print
    case print:
        print(value);
        break;
    // ...
}
```

ฺฉ **break** ุฑุงุฌโุชุฑู ุฑูุด ุจุฑุง ุฎุงุชูู ูุฑ **case** ุงุณุชุ ุงูุง ฺฏุงู ุงููุงุช **return** ูู ููุฏ ุงุณุช.

---

**ฺู ุฒูุงู ุจุงุฏ ุงุฒ default ุงุณุชูุงุฏู ฺฉุฑุฏุ**
ุฌูุงุจ ูุทุน ูุฌูุฏ ูุฏุงุฑุฏ. ฺฉ ุงุณุชูุงุฏู ุงู ุงุณุช ฺฉู default ุจุฑุง ุฑุงุฌโุชุฑู ุญุงูุช ุงุณุชูุงุฏู ุดูุฏ. ุงุณุชูุงุฏู ุฑุงุฌ ุฏฺฏุฑ ุงู ุงุณุช ฺฉู default ุตุฑูุงู ุจุฑุง ฺฏุฑูุชู ุฎุทุงูุง ุจุงุดุฏ ู ููู ุฌุงฺฏุฒูโูุง ูุนุชุจุฑ ุชูุณุท **case**ูุง ูพูุดุด ุฏุงุฏู ุดููุฏ.

ุจุง ุงู ุญุงูุ ฺฉ ููุฑุฏ ูุฌูุฏ ุฏุงุฑุฏ ฺฉู ูุจุงุฏ ุงุฒ default ุงุณุชูุงุฏู ฺฉุฑุฏ: ุงฺฏุฑ **switch** ุจุฑุง ุฏุงุดุชู ฺฉ case ุจุฑุง ูุฑ ุดูุงุฑูุฏู (enumerator) ุฏุฑ ฺฉ enum ุทุฑุงุญ ุดุฏู ุจุงุดุฏุ ุจูุชุฑ ุงุณุช default ุญุฐู ุดูุฏ ุชุง ฺฉุงููพุงูุฑ ุจุชูุงูุฏ ูุณุจุช ุจู ูุฌููุนูโุง ุงุฒ **case**ูุง ฺฉู ุชูุฑุจุงู ุงูุง ูู ฺฉุงููุงู ุจุง enum ูุทุงุจูุช ุฏุงุฑูุฏุ ูุดุฏุงุฑ ุฏูุฏ. ุจู ุนููุงู ูุซุงูุ ุงู ุชูุฑุจุงู ุญุชูุงู ฺฉ ุฎุทุงุณุช:

```cpp
enum class Vessel { cup, glass, goblet, chalice };

void problematic(Vessel v)
{
    switch (v) {
        case Vessel::cup: /* ... */ break;
        case Vessel::glass: /* ... */ break;
        case Vessel::goblet: /* ... */ break;
    }
}
```

ฺูู ุงุดุชุจุงู ุจู ุฑุงุญุช ููฺฏุงู ุงุถุงูู ฺฉุฑุฏู ฺฉ ุดูุงุฑูุฏู ุฌุฏุฏ ุฏุฑ ุทูู ูฺฏูุฏุงุฑ ุฑุฎ ูโุฏูุฏ.
ุขุฒูุงุด ุจุฑุง ฺฉ ููุฏุงุฑ ยซุบุฑููฺฉูยป ุงุฒ ุดูุงุฑูุฏู ุจูุชุฑ ุงุณุช ุฌุฏุงฺฏุงูู ุงูุฌุงู ุดูุฏ.

## Declarations in Cases
ุงูฺฉุงู ุฏุงุฑุฏ ู ูุนูููุงู ุฑุงุฌ ุงุณุช ฺฉู ูุชุบุฑูุง ุฑุง ุฏุฑ ุจูุงฺฉ ฺฉ ุฏุณุชูุฑ `switch` ุงุนูุงู ฺฉูู. ุจุง ุงู ุญุงูุ ููโุชูุงู ุงุฒ ููุฏุงุฑุฏู ุงููู ุตุฑูโูุธุฑ ฺฉุฑุฏ. ุจุฑุง ูุซุงู:

```cpp
void f(int i)
{
    switch (i) {
    case 0:
        int x;      // ููุฏุงุฑุฏู ูุดุฏู
        int y = 3;  // ุฎุทุง: ููุฏุงุฑุฏู ุงููู ูโุชูุงูุฏ ูุงุฏุฏู ฺฏุฑูุชู ุดูุฏ (ุจูโุทูุฑ ุตุฑุญ ููุฏุงุฑุฏู ุดุฏู)
        string s;   // ุฎุทุง: ููุฏุงุฑุฏู ุงููู ูโุชูุงูุฏ ูุงุฏุฏู ฺฏุฑูุชู ุดูุฏ (ุจูโุทูุฑ ุถูู ููุฏุงุฑุฏู ุดุฏู)
    case 1:
        ++x;        // ุฎุทุง: ุงุณุชูุงุฏู ุงุฒ ุดุก ููุฏุงุฑุฏู ูุดุฏู
        ++y;
        s = "nasty!";
    }
}
```

ุงูุฌุงุ ุงฺฏุฑ `i == 1` ุจุงุดุฏุ ุฌุฑุงู ุงุฌุฑุง ุจุฑูุงููุ ููุฏุงุฑุฏูโูุง `y` ู `s` ุฑุง ูุงุฏุฏู ูโฺฏุฑุฏุ ุจูุงุจุฑุงู ุชุงุจุน `f()` ฺฉุงููพุงู ูุฎูุงูุฏ ุดุฏ. ูุชุฃุณูุงููุ ุงุฒ ุขูุฌุง ฺฉู `int` ูุงุฒ ุจู ููุฏุงุฑุฏู ุงููู ูุฏุงุฑุฏุ ุงุนูุงู ูุชุบุฑ `x` ุฎุทุง ูุณุช. ุจุง ุงู ุญุงูุ ุงุณุชูุงุฏู ุงุฒ ุขู ุฎุทุงุณุช ุฒุฑุง ุงุฒ ฺฉ ูุชุบุฑ ููุฏุงุฑุฏู ูุดุฏู ุฎูุงูุฏู ูโุดูุฏ. ูุชุฃุณูุงููุ ฺฉุงููพุงูุฑูุง ุงุบูุจ ููุท ฺฉ ูุดุฏุงุฑ ุจุฑุง ุงุณุชูุงุฏู ุงุฒ ูุชุบุฑ ููุฏุงุฑุฏู ูุดุฏู ูโุฏููุฏ ู ููโุชูุงููุฏ ูููู ุงู ุงุดุชุจุงูุงุช ุฑุง ุจูโุทูุฑ ูุงุจู ุงุนุชูุงุฏ ุชุดุฎุต ุฏููุฏ. ููุงูโุทูุฑ ฺฉู ูุนููู ุงุณุชุ ุงุฒ ูุชุบุฑูุง ููุฏุงุฑุฏู ูุดุฏู ุฎูุฏุฏุงุฑ ฺฉูุฏ (ยง6.3.5.1).

ุงฺฏุฑ ูุงุฒ ุจู ฺฉ ูุชุบุฑ ุฏุฑูู ุฏุณุชูุฑ `switch` ุฏุงุฑูุ ูโุชูุงูู ูุญุฏูุฏูู ุขู ุฑุง ุจุง ูุฑุงุฑ ุฏุงุฏู ุงุนูุงู ู ุงุณุชูุงุฏู ุงุฒ ุขู ุฏุฑ ฺฉ ุจูุงฺฉ ูุญุฏูุฏ ฺฉูู. ุจุฑุง ูุซุงูุ ุจู ุชุงุจุน `prim()` ุฏุฑ ยง10.2.1 ูุฑุงุฌุนู ฺฉูุฏ.

## Declarations in Conditions
ุจุฑุง ุฌููฺฏุฑ ุงุฒ ุงุณุชูุงุฏูู ุชุตุงุฏู ุง ุงุดุชุจุงู ุงุฒ ฺฉ ูุชุบุฑุ ูุนูููุงู ุงุฏูู ุฎูุจ ุงุณุช ฺฉู ูุชุบุฑ ุฑุง ุฏุฑ **ฺฉูฺฺฉโุชุฑู ูุญุฏูุฏูู ููฺฉู** ูุนุฑู ฺฉูู. ุจูโูฺูุ ุจูุชุฑ ุงุณุช ุชุนุฑู ฺฉ ูุชุบุฑ ูุญู ุฑุง **ุจู ุฒูุงู ููฺฉูู ฺฉูู ฺฉู ุจุชูุงูู ุจู ุขู ฺฉ ููุฏุงุฑ ุงููู ุจุฏูู**. ุจุง ุงู ฺฉุงุฑุ ููโุชูุงูู ูุจู ุงุฒ ููุฏุงุฑุฏู ุงููู ุงุฒ ูุชุบุฑ ุงุณุชูุงุฏู ฺฉูู ู ูุดฺฉู ุงุฌุงุฏ ุดูุฏ.

ฺฉ ุงุฒ ุฒุจุงุชุฑู ฺฉุงุฑุจุฑุฏูุง ุงู ุฏู ุงุตูุ **ุงุนูุงู ูุชุบุฑ ุฏุฑ ฺฉ ุดุฑุท** ุงุณุช. ุจุฑุง ูุซุงู:

```cpp
if (double d = prim(true)) {
    left /= d;
    break;
}
```

ุงูุฌุงุ `d` ูู ุงุนูุงู ู ูู ููุฏุงุฑุฏู ุงููู ุดุฏู ู ููุฏุงุฑ `d` ุจุนุฏ ุงุฒ ููุฏุงุฑุฏู ุจูโุนููุงู ููุฏุงุฑ ุดุฑุท ุจุฑุฑุณ ูโุดูุฏ. ูุญุฏูุฏูู (scope) `d` ุงุฒ ููุทูู ุงุนูุงู ุขู ุชุง ุงูุชูุง ููุงู ุฏุณุชูุฑ ฺฉู ุดุฑุท ฺฉูุชุฑู ูโฺฉูุฏ ุงุฏุงูู ุฏุงุฑุฏ. ุจูโุนููุงู ูุซุงูุ ุงฺฏุฑ ฺฉ ุดุงุฎูู `else` ูู ูุฌูุฏ ุฏุงุดุชุ `d` ุฏุฑ ูุฑ ุฏู ุดุงุฎู ุฏุฑ ูุญุฏูุฏูู ูุงุจู ุฏุณุชุฑุณ ุจูุฏ.

ฺฏุฒููู ูุงุถุญ ู ุณูุช ุงู ุงุณุช ฺฉู `d` ุฑุง ูุจู ุงุฒ ุดุฑุท ุงุนูุงู ฺฉูู. ุงูุง ุงู ฺฉุงุฑ ุจุงุนุซ ูโุดูุฏ ูุญุฏูุฏูู `d` ุจุดุชุฑ ุดูุฏ ู ููฺฉู ุงุณุช **ูุจู ุงุฒ ููุฏุงุฑุฏู ุงููู ุง ุจุนุฏ ุงุฒ ุฒูุงู ููุฏ ููุฑุฏ ูุธุฑุ ุงุฒ ุขู ุงุณุชูุงุฏู ุดูุฏ**:

```cpp
double d;
// ...
d2 = d; // ุงูู! ุงุณุชูุงุฏูู ุงุดุชุจุงู
// ...
if (d = prim(true)) {
    left /= d;
    break;
}
// ...
d = 2.0; // ุฏู ุงุณุชูุงุฏูู ุบุฑูุฑุชุจุท ุงุฒ d
```

ุนูุงูู ุจุฑ ูุฒุงุง ููุทู ุงุนูุงู ูุชุบุฑูุง ุฏุฑ ุดุฑุทุ ุงู ฺฉุงุฑ **ฺฉุฏ ููุจุน ุฑุง ูุฒ ูุดุฑุฏูโุชุฑ ู ูุฑุชุจโุชุฑ ูโฺฉูุฏ**.

ุชูุฌู: ฺฉ ุงุนูุงู ุฏุฑ ุดุฑุท ุจุงุฏ **ฺฉ ูุชุบุฑ ุง ฺฉ const ุฑุง ููุฒูุงู ุงุนูุงู ู ููุฏุงุฑุฏู ุงููู ฺฉูุฏ**.

## Iteration Statements
ฺฉ ุญููู ูโุชูุงูุฏ ุจู ุตูุฑุช ฺฉ ุฏุณุชูุฑ `for`ุ `while` ุง `do` ุจุงู ุดูุฏ:

```cpp
while (condition) statement
do statement while (expression);
for (for-init-statement; conditionopt; expressionopt) statement
for (for-declaration : expression) statement
```

* **for-init-statement** ุจุงุฏ ุง ฺฉ **ุงุนูุงู ูุชุบุฑ (declaration)** ุจุงุดุฏ ุง ฺฉ **ุฏุณุชูุฑ-ุนุจุงุฑุช (expression-statement)**. ุชูุฌู ุฏุงุดุชู ุจุงุดุฏ ฺฉู ูุฑ ุฏู ุจุง **ููุทูโูุฑฺฏูู** (`;`) ูพุงุงู ูโุงุจูุฏ.

* **ุฏุณุชูุฑ ุฏุงุฎู ุญููู for** (ฺฉู ุจู ุขู **controlled statement** ุง **loop body** ฺฏูุชู ูโุดูุฏ) ุจู ุตูุฑุช ุชฺฉุฑุงุฑ ุงุฌุฑุง ูโุดูุฏ ุชุง ุฒูุงู ฺฉู ุดุฑุท ูุงุฏุฑุณุช ุดูุฏ ุง ุจุฑูุงููโููุณ ุจู ุฑูุด ุฏฺฏุฑ ุงุฒ ุญููู ุฎุงุฑุฌ ุดูุฏุ ูุงููุฏ ุงุณุชูุงุฏู ุงุฒ `break`ุ `return`ุ `throw` ุง `goto`.

* ุญูููโูุง ูพฺุฏูโุชุฑ ูโุชูุงููุฏ ุจุง **ุชุฑฺฉุจ ุงูฺฏูุฑุชูโูุง ู ุชูุงุจุน lambda** ุจุงู ุดููุฏ (ยง11.4.2).

## Range-for Statement
ุณุงุฏูโุชุฑู ุญูููุ **ุฏุณุชูุฑ for ุจุง ูุญุฏูุฏู (range-for)** ุงุณุชุ ุงู ุญููู ุจู ุจุฑูุงููโููุณ ุงุฌุงุฒู ูโุฏูุฏ ุชุง ุจู ูุฑ ุนูุตุฑ ฺฉ ูุญุฏูุฏู ุฏุณุชุฑุณ ุฏุงุดุชู ุจุงุดุฏ. ุจู ุนููุงู ูุซุงู:

```cpp
int sum(vector<int>& v)
{
    int s = 0;
    for (int x : v)
        s += x;
    return s;
}
```

ุนุจุงุฑุช `for (int x : v)` ุฑุง ูโุชูุงู ุงูโฺฏููู ุฎูุงูุฏ: ยซุจุฑุง ูุฑ ุนูุตุฑ x ุฏุฑ ูุญุฏูุฏู vยป ุง ุณุงุฏูโุชุฑ: ยซุจุฑุง ูุฑ x ุฏุฑ vยป. ุนูุงุตุฑ v ุจู ุชุฑุชุจ ุงุฒ ุงููู ุชุง ุขุฎุฑู ุจุงุฒุฏุฏ ูโุดููุฏ.

**ุฏุงูููโ (scope) ูุชุบุฑ ฺฉู ุนูุตุฑ ุฑุง ูุงูโฺฏุฐุงุฑ ูโฺฉูุฏ (ุฏุฑ ุงูุฌุง x) ุฏุฑ ุฏุงุฎู ุฎูุฏ ุฏุณุชูุฑ for ุงุณุช.**

ุนุจุงุฑุช ุจุนุฏ ุงุฒ ุนูุงูุช ุฏู ููุทู (`:`) ุจุงุฏ ฺฉ ุฏูุจุงูู (sequence) ุจุงุดุฏุ ุนู ุจุงุฏ ููุฏุงุฑ ุจุฏูุฏ ฺฉู ุจุชูุงู ุจุฑุง ุขู `v.begin()` ู `v.end()` ุง `begin(v)` ู `end(v)` ุฑุง ูุฑุงุฎูุงู ฺฉุฑุฏ ุชุง **ุงุฑุชุฑุชูุฑ (iterator)** ุจู ุฏุณุช ุขูุฑู (ยง4.5):

1. ฺฉุงููพุงูุฑ ุงุจุชุฏุง ุจู ุฏูุจุงู ุชูุงุจุน ุนุถู `begin` ู `end` ูโฺฏุฑุฏุฏ ู ุณุน ูโฺฉูุฏ ุงุฒ ุขูโูุง ุจู ุนููุงู ูุญุฏูุฏู ุงุณุชูุงุฏู ฺฉูุฏ. ุงฺฏุฑ `begin` ุง `end` ูพุฏุง ุดูุฏ ูู ูุงุจู ุงุณุชูุงุฏู ุจู ุนููุงู ูุญุฏูุฏู ูุจุงุดุฏ (ูุซูุงู ฺูู `begin` ฺฉ ูุชุบุฑ ุงุณุช ูู ฺฉ ุชุงุจุน)ุ ุฏุณุชูุฑ range-for ุฎุทุง ุงุณุช.
2. ุฏุฑ ุบุฑ ุงู ุตูุฑุชุ ฺฉุงููพุงูุฑ ุจู ุฏูุจุงู ุฌูุช ุชูุงุจุน ุนุถู begin/end ุฏุฑ ุฏุงูููู ูพุฑุงููู ูโฺฏุฑุฏุฏ. ุงฺฏุฑ ฺุฒ ูพุฏุง ูุดูุฏ ุง ูุงุจู ุงุณุชูุงุฏู ูุจุงุดุฏ (ูุซูุงู begin ุขุฑฺฏููุงู ุงุฒ ููุน ุฏูุจุงูู ูฺฏุฑุฏ)ุ ุฏุณุชูุฑ range-for ุฎุทุง ุงุณุช.

ุจุฑุง ุขุฑุงูโูุง ุชูฺฉุงุฑ (`built-in array`) ูุงููุฏ `T v[N]`ุ ฺฉุงููพุงูุฑ ุงุฒ `v` ู `v+N` ุจู ุนููุงู `begin(v)` ู `end(v)` ุงุณุชูุงุฏู ูโฺฉูุฏ. ูุฏุฑ `<iterator>` ุจุฑุง ุขุฑุงูโูุง ุชูฺฉุงุฑ ู ุชูุงู ฺฉุงูุชูุฑูุง ุงุณุชุงูุฏุงุฑุฏ ฺฉุชุงุจุฎุงููุ `begin(c)` ู `end(c)` ุฑุง ูุฑุงูู ูโฺฉูุฏ. ุจุฑุง ุฏูุจุงููโูุง ุทุฑุงุญโุดุฏู ุชูุณุท ุฎูุฏูุงูุ ูโุชูุงูู `begin()` ู `end()` ุฑุง ุจู ููุงู ุฑูุด ฺฉุงูุชูุฑูุง ุงุณุชุงูุฏุงุฑุฏ ุชุนุฑู ฺฉูู (ยง4.4.5).

ูุชุบุฑ ฺฉูุชุฑูโุดุฏูุ `x` ุฏุฑ ูุซุงู ุจุงูุงุ ฺฉู ุจู ุนูุตุฑ ูุนู ุงุดุงุฑู ุฏุงุฑุฏุ **ูุนุงุฏู `*p`** ุฏุฑ ุงุณุชูุงุฏู ุงุฒ ุฏุณุชูุฑ for ูุนุงุฏู ุฒุฑ ุงุณุช:

```cpp
int sum2(vector<int>& v)
{
    int s = 0;
    for (auto p = begin(v); p != end(v); ++p)
        s += *p;
    return s;
}
```

ุงฺฏุฑ ูุงุฒ ุฏุงุฑุฏ ุนูุตุฑ ฺฉ ูุญุฏูุฏู ุฑุง ุชุบุฑ ุฏูุฏุ ูุชุบุฑ ุนูุตุฑ ุจุงุฏ **ุงุฑุฌุงุน (reference)** ุจุงุดุฏ. ุจู ุนููุงู ูุซุงูุ ูโุชูุงูู ูุฑ ุนูุตุฑ ฺฉ ูฺฉุชูุฑ ุฑุง ุจู ุงู ุตูุฑุช ุงูุฒุงุด ุฏูู:

```cpp
void incr(vector<int>& v)
{
    for (int& x : v)
        ++x;
}
```

ุงุฑุฌุงุนุงุช ููฺูู ุจุฑุง ุนูุงุตุฑ ููุงุณุจโุงูุฏ ฺฉู ููฺฉู ุงุณุช ุจุฒุฑฺฏ ุจุงุดูุฏุ ุฒุฑุง ฺฉูพ ฺฉุฑุฏู ุขูโูุง ุจู ูุชุบุฑ ุนูุตุฑ ูุฒููโุจุฑ ุงุณุช. ุจู ุนููุงู ูุซุงู:

```cpp
template<class T> 
T accum(vector<T>& v)
{
    T sum = 0;
    for (const T& x : v)
        sum += x;
    return sum;
}
```

ุชูุฌู ุฏุงุดุชู ุจุงุดุฏ ฺฉู **ุญููู range-for ุจู ุทูุฑ ุนูุฏ ุณุงุฏู ุทุฑุงุญ ุดุฏู ุงุณุช.** ุจู ุนููุงู ูุซุงูุ ุจุง ุงุณุชูุงุฏู ุงุฒ ุขู ููโุชูุงู ููุฒูุงู ุจู ุฏู ุนูุตุฑ ุฏุณุช ุฒุฏ ู ููโุชูุงู ุฏู ูุญุฏูุฏู ุฑุง ููุฒูุงู ูพูุงุด ฺฉุฑุฏ. ุจุฑุง ุงู ฺฉุงุฑ ูุงุฒ ุจู ุฏุณุชูุฑ for ูุนููู ุฏุงุฑู.

## for Statements
ฺฉ ููุน ุนูููโุชุฑ ุงุฒ ุฏุณุชูุฑ **for** ูุฒ ูุฌูุฏ ุฏุงุฑุฏ ฺฉู ฺฉูุชุฑู ุจุดุชุฑ ุฑู ุญููู ูุฑุงูู ูโฺฉูุฏ. ูุชุบุฑ ุญูููุ ุดุฑุท ูพุงุงู ุญููู ู ุนุจุงุฑุช ฺฉู ูุชุบุฑ ุญููู ุฑุง ุจูโุฑูุฒุฑุณุงู ูโฺฉูุฏุ ููฺฏ ุจู ุตูุฑุช ยซุฑูุดู ู ูุงุถุญยป ุฏุฑ ฺฉ ุฎุท ุงุฑุงุฆู ูโุดููุฏ. ุจู ุนููุงู ูุซุงู:

```cpp
void f(int v[], int max)
{
    for (int i = 0; i != max; ++i)
        v[i] = i * i;
}
```

ุงู ูุนุงุฏู ุงุณุช ุจุง:

```cpp
void f(int v[], int max)
{
    int i = 0; // ูุนุฑู ูุชุบุฑ ุญููู i
    while (i != max) { // ุจุฑุฑุณ ุดุฑุท ูพุงุงู
        v[i] = i * i; // ุงุฌุฑุง ุจุฏูู ุญููู
        ++i; // ุงูุฒุงุด ููุฏุงุฑ ูุชุบุฑ ุญููู
    }
}
```

ูโุชูุงู ฺฉ ูุชุบุฑ ุฑุง ุฏุฑ ูุณูุช **initializer** ุฏุณุชูุฑ for ุชุนุฑู ฺฉุฑุฏ. ุงฺฏุฑ ุขู initializer ฺฉ **declaration** ุจุงุดุฏุ ูุชุบุฑ ฺฉู ูุนุฑู ูโฺฉูุฏ ุชุง ูพุงุงู ุฏุณุชูุฑ for ุฏุฑ ูุญุฏูุฏู (scope) ุฎูุงูุฏ ุจูุฏ.

ููุดู ูุดุฎุต ูุณุช ฺฉู ฺู ููุน ุฏุงุฏูโุง ุจุฑุง ูุชุบุฑ ฺฉูุชุฑู ุญููู ููุงุณุจ ุงุณุชุ ุจูุงุจุฑุงู ุงุณุชูุงุฏู ุงุฒ **auto** ุงุบูุจ ููุฏ ุงุณุช:

```cpp
for (auto p = begin(c); c != end(c); ++p) {
    // ... ุงุณุชูุงุฏู ุงุฒ iterator p ุจุฑุง ุนูุงุตุฑ container c ...
}
```

ุงฺฏุฑ ูุงุฒู ุจุงุดุฏ ููุฏุงุฑ ููุง ฺฉ **index** ุจุนุฏ ุงุฒ ุฎุฑูุฌ ุงุฒ ุญููู for ูุดุฎุต ุจุงุดุฏุ ูุชุบุฑ index ุจุงุฏ ุฎุงุฑุฌ ุงุฒ ุญููู for ุชุนุฑู ุดูุฏ.

ุงฺฏุฑ ูุงุฒ ุจู ููุฏุงุฑุฏู ุงููู ูุจุงุดุฏุ ุฏุณุชูุฑ ููุฏุงุฑุฏู ุงููู ูโุชูุงูุฏ ุฎุงู ุจุงุดุฏ.

ุงฺฏุฑ ุนุจุงุฑุช ฺฉู ูุฑุงุฑ ุงุณุช ูุชุบุฑ ุญููู ุฑุง ุงูุฒุงุด ุฏูุฏ ุญุฐู ุดูุฏุ ุจุงุฏ ูุชุบุฑ ุญููู ุฑุง ุจู ุดฺฉู ุฏฺฏุฑุ ูุนูููุงู ุฏุฑ ุจุฏูู ุญูููุ ุจูโุฑูุฒุฑุณุงู ฺฉูู. ุงฺฏุฑ ุญููู ุงุฒ ููุน ุณุงุฏู ยซุชุนุฑู ูุชุบุฑ ุญูููุ ุจุฑุฑุณ ุดุฑุทุ ุจูโุฑูุฒุฑุณุงู ูุชุบุฑ ุญูููยป ูุจุงุดุฏุ ูุนูููุงู ุจูุชุฑ ุงุณุช ุจุง ุฏุณุชูุฑ **while** ุจุงู ุดูุฏ.

ุจุง ุงู ุญุงูุ ฺฉ ุญุงูุช ุดฺฉ ูุฌูุฏ ุฏุงุฑุฏ:

```cpp
for (string s; cin >> s;)
    v.push_back(s);
```

ุฏุฑ ุงู ูุซุงูุ ุฎูุงูุฏู ู ุจุฑุฑุณ ุดุฑุท ูพุงุงู ุฏุฑ `cin >> s` ุชุฑฺฉุจ ุดุฏูโุงูุฏุ ุจูุงุจุฑุงู ูุงุฒ ุจู ูุชุบุฑ ุญููู ุตุฑุญ ูุณุช. ุงุฒ ุทุฑู ุฏฺฏุฑุ ุงุณุชูุงุฏู ุงุฒ for ุจู ุฌุง while ุงุฌุงุฒู ูโุฏูุฏ ุชุง ูุญุฏูุฏู (scope) ุนูุตุฑ ูุนู `s` ููุท ุจู ุฏุงุฎู ุญููู ูุญุฏูุฏ ุดูุฏ.

ฺฉ ุฏุณุชูุฑ for ููฺูู ุจุฑุง ุจุงู ุญูููโุง ุจุฏูู ุดุฑุท ูพุงุงู ุตุฑุญ ููุฏ ุงุณุช:

```cpp
for (;;) { // ุญููู ยซููุดูยป
    // ...
}
```

ุจุง ุงู ุญุงูุ ุจุณุงุฑ ุงู ุณุจฺฉ ุฑุง ูุจูู ูโุฏุงููุฏ ู ุชุฑุฌุญ ูโุฏููุฏ ุงุฒ:

```cpp
while(true) { // ุญููู ยซููุดูยป
    // ...
}
```

## while Statements
ฺฉ ุฏุณุชูุฑ **while** ุชุง ุฒูุงู ฺฉู ุดุฑุท ุขู **false** ุดูุฏุ ุฏุณุชูุฑ ฺฉูุชุฑูโุดุฏูโุงุด ุฑุง ุงุฌุฑุง ูโฺฉูุฏ. ุจุฑุง ูุซุงู:

```cpp
template<class Iter, class Value>
Iter find(Iter first, Iter last, Value val)
{
    while (first != last && *first != val)
        ++first;
    return first;
}
```

ูู ุชูุงู ุฏุงุฑู ุงุฒ **while** ุจู ุฌุง **for** ุงุณุชูุงุฏู ฺฉูู ููุช ฺฉู **ูุชุบุฑ ุญููู ูุดุฎุต ู ูุงุถุญ ูุฌูุฏ ูุฏุงุฑุฏ** ุง ููุช ฺฉู **ุจูโุฑูุฒุฑุณุงู ูุชุบุฑ ุญููู ุจูโุทูุฑ ุทุจุน ุฏุฑ ูุณุท ุจุฏูู ุญููู ุงูุฌุงู ูโุดูุฏ**.

ฺฉ ุฏุณุชูุฑ **for** (ยง9.5.2) ุจู ุฑุงุญุช ูโุชูุงูุฏ ุจู ฺฉ ุฏุณุชูุฑ **while** ูุนุงุฏู ุจุงุฒููุณ ุดูุฏ ู ุจุงูุนฺฉุณ.
